# Mosquitto MQTT Broker Configuration for Docker
# IoT Device Management System

# Listener Configuration
listener 1883
protocol mqtt

# WebSocket support (optional)
listener 9001
protocol websockets

# Allow anonymous connections (for development)
# Set to false and configure authentication for production
allow_anonymous true

# Logging
log_dest stdout
log_type all
log_timestamp true
log_timestamp_format %Y-%m-%dT%H:%M:%S

# Persistence
persistence true
persistence_location /mosquitto/data/

# Autosave interval (seconds)
autosave_interval 60

# Maximum QoS
max_queued_messages 1000

# Connection settings
max_connections -1
max_keepalive 65535

# Message size limit (100MB)
message_size_limit 104857600

# Memory limit
memory_limit 0

# Retain messages
retained_persistence true

# System information interval (in seconds, 0 to disable)
sys_interval 10

